{"version":3,"file":"freezesoul-nz-formly-tabs.mjs","sources":["../../../lib/tabs/tabs.component.ts","../../../lib/tabs/tabs.module.ts","../../../lib/tabs/freezesoul-nz-formly-tabs.ts"],"sourcesContent":["import { ChangeDetectionStrategy, Component, Optional, TemplateRef } from '@angular/core';\r\nimport { FieldType } from '@ngx-formly/core';\r\nimport { FormlyBoxTemplates, resolveTplName } from '@freezesoul/nz-formly/common';\r\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\r\nimport { TabsItem } from './formly.type';\r\n\r\n@Component({\r\n  selector: 'nz-formly-tabs',\r\n  template: `\r\n    <nz-tabset\r\n      #instance\r\n      [formlyAttributes]=\"field\"\r\n      [(nzSelectedIndex)]=\"props.nzSelectedIndex\"\r\n      [nzAnimated]=\"props.nzAnimated\"\r\n      [nzSize]=\"props.nzSize\"\r\n      [nzTabBarExtraContent]=\"nzTabBarExtraContent\"\r\n      [nzTabBarStyle]=\"props.nzTabBarStyle\"\r\n      [nzTabPosition]=\"props.nzTabPosition\"\r\n      [nzType]=\"props.nzType\"\r\n      [nzTabBarGutter]=\"props.nzTabBarGutter\"\r\n      [nzHideAll]=\"props.nzHideAll\"\r\n      [nzLinkRouter]=\"props.nzLinkRouter\"\r\n      [nzLinkExact]=\"props.nzLinkExact\"\r\n      [nzCanDeactivate]=\"props.nzCanDeactivate\"\r\n      [nzCentered]=\"props.nzCentered\"\r\n      (nzSelectedIndexChange)=\"props.nzSelectedIndexChange?.($event, field, instance)\"\r\n      (nzSelectChange)=\"props.nzSelectChange?.($event, field, instance)\"\r\n      [nzHideAdd]=\"props.nzHideAdd\"\r\n      [nzAddIcon]=\"props.nzAddIcon\"\r\n      (nzAdd)=\"props.nzAdd?.($event, field, instance)\"\r\n      (nzClose)=\"props.nzClose?.($event, field, instance)\"\r\n    >\r\n      <ng-container *ngIf=\"props.tabs?.length; else fieldGroupTemplate\">\r\n        <ng-container *ngFor=\"let item of props.tabs\">\r\n          <nz-tab\r\n            *ngIf=\"item.hide !== false\"\r\n            [nzTitle]=\"getNzTitle(item)\"\r\n            (nzClick)=\"item.nzClick?.($event, item.props.tab, instance)\"\r\n            [nzForceRender]=\"item.nzForceRender\"\r\n            [nzDisabled]=\"item.nzDisabled || item.disabled\"\r\n            (nzContextmenu)=\"item.nzContextmenu?.($event, item.props.tab, instance)\"\r\n            (nzSelect)=\"item.nzSelect?.($event, item.props.tab, instance)\"\r\n            (nzDeselect)=\"item.nzDeselect?.($event, item.props.tab, instance)\"\r\n            [nzClosable]=\"item.nzClosable\"\r\n            [nzCloseIcon]=\"item.nzCloseIcon\"\r\n            [formlyAttributes]=\"item\"\r\n          >\r\n            <ng-container\r\n              *ngTemplateOutlet=\"getNzxContent(item); context: { $implicit: item, field: field }\"\r\n            ></ng-container>\r\n          </nz-tab>\r\n        </ng-container>\r\n      </ng-container>\r\n\r\n      <ng-template #fieldGroupTemplate>\r\n        <ng-container *ngFor=\"let item of field.fieldGroup\">\r\n          <nz-tab\r\n            *ngIf=\"item.props.tab?.hide !== false\"\r\n            [nzTitle]=\"getNzTitle(item.props?.tab || {})\"\r\n            (nzClick)=\"item.props.tab?.nzClick?.($event, item.props.tab, instance)\"\r\n            [nzForceRender]=\"item.props.tab?.nzForceRender\"\r\n            [nzDisabled]=\"item.props.tab?.nzDisabled || item.props.tab?.disabled\"\r\n            (nzContextmenu)=\"item.props.tab?.nzContextmenu?.($event, item.props.tab, instance)\"\r\n            (nzSelect)=\"item.props.tab?.nzSelect?.($event, item.props.tab, instance)\"\r\n            (nzDeselect)=\"item.props.tab?.nzDeselect?.($event, item.props.tab, instance)\"\r\n            [nzClosable]=\"item.props.tab?.nzClosable\"\r\n            [nzCloseIcon]=\"item.props.tab?.nzCloseIcon\"\r\n            [formlyAttributes]=\"item.props.tab\"\r\n          >\r\n            <formly-field [field]=\"item\"></formly-field>\r\n          </nz-tab>\r\n        </ng-container>\r\n      </ng-template>\r\n    </nz-tabset>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FormlyFieldTabsComponent extends FieldType {\r\n  override defaultOptions = {\r\n    props: { nzTabPosition: 'top', nzType: 'line', nzAnimated: true, nzSize: 'default', nzLinkExact: true }\r\n  };\r\n\r\n  constructor(@Optional() public fieldTemplates: FormlyBoxTemplates) {\r\n    super();\r\n  }\r\n\r\n  get nzTabBarExtraContent() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'nzTabBarExtraContent');\r\n  }\r\n\r\n  getNzTitle(config: NzSafeAny): TemplateRef<NzSafeAny> | undefined {\r\n    return resolveTplName(config, this.fieldTemplates, 'nzTitle');\r\n  }\r\n\r\n  /**\r\n   * 获取tab内容\r\n   * @param item\r\n   */\r\n  getNzxContent(item: TabsItem) {\r\n    return resolveTplName(item, this.fieldTemplates, 'nzxContent');\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormlyModule } from '@ngx-formly/core';\r\nimport { NzButtonModule } from 'ng-zorro-antd/button';\r\nimport { FormlyFieldTabsComponent } from './tabs.component';\r\nimport { NzTabsModule } from 'ng-zorro-antd/tabs';\r\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\r\n\r\nconst COMPONENT = FormlyFieldTabsComponent;\r\n\r\n@NgModule({\r\n  declarations: [COMPONENT],\r\n  imports: [\r\n    CommonModule,\r\n    NzTabsModule,\r\n    FormlyModule.forChild({\r\n      types: [\r\n        {\r\n          name: 'tabs',\r\n          component: COMPONENT\r\n        }\r\n      ]\r\n    }),\r\n    NzButtonModule,\r\n    NzOutletModule\r\n  ]\r\n})\r\nexport class FormlyNzTabsModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}