{"version":3,"file":"freezesoul-nz-formly-select.mjs","sources":["../../../lib/select/select.component.ts","../../../lib/select/select.component.html","../../../lib/select/select.module.ts","../../../lib/select/freezesoul-nz-formly-select.ts"],"sourcesContent":["import { ChangeDetectionStrategy, Component, Optional } from '@angular/core';\r\nimport { FieldType } from '@ngx-formly/core';\r\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\r\nimport { FormlyBoxTemplates, resolveTplName } from '@freezesoul/nz-formly/common';\r\n\r\n@Component({\r\n  selector: 'nz-formly-select-component',\r\n  templateUrl: './select.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FormlyFieldSelectComponent extends FieldType {\r\n  override defaultOptions = {\r\n    props: {\r\n      options: [],\r\n      nzMode: 'default',\r\n      nzAutoClearSearchValue: true,\r\n      nzDropdownMatchSelectWidth: true,\r\n      nzMaxMultipleCount: Infinity,\r\n      nzMaxTagCount: Infinity,\r\n      nzShowArrow: true,\r\n      nzTokenSeparators: [],\r\n      nzOptionHeightPx: 32,\r\n      nzOptionOverflowSize: 8,\r\n      compareWith: (o1: NzSafeAny, o2: NzSafeAny) => o1 === o2,\r\n      nzFilterOption: (input: string, option: any) => {\r\n        if (option && option.nzLabel) {\r\n          return option.nzLabel.toLowerCase().indexOf(input.toLowerCase()) > -1;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      defaultValue: []\r\n    }\r\n  };\r\n\r\n  constructor(@Optional() public fieldTemplates: FormlyBoxTemplates) {\r\n    super();\r\n  }\r\n\r\n  get nzCustomTemplate() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'nzCustomTemplate');\r\n  }\r\n  get nzSuffixIcon() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'nzSuffixIcon');\r\n  }\r\n  get nzRemoveIcon() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'nzRemoveIcon');\r\n  }\r\n  get nzClearIcon() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'nzClearIcon');\r\n  }\r\n  get nzMenuItemSelectedIcon() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'nzMenuItemSelectedIcon');\r\n  }\r\n  get nzMaxTagPlaceholder() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'nzMaxTagPlaceholder');\r\n  }\r\n  get nzNotFoundContent() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'nzNotFoundContent');\r\n  }\r\n  get labelTemplate() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'labelTemplate');\r\n  }\r\n}\r\n","<nz-select\r\n  #instance\r\n  [formControl]=\"$any(formControl)\"\r\n  [formlyAttributes]=\"field\"\r\n  [compareWith]=\"props.compareWith\"\r\n  [nzShowSearch]=\"props.nzShowSearch\"\r\n  [nzAllowClear]=\"props.nzAllowClear\"\r\n  [nzPlaceHolder]=\"props.nzPlaceHolder || props.placeholder\"\r\n  [nzOpen]=\"props.nzOpen\"\r\n  [nzAutoFocus]=\"props.nzAutoFocus\"\r\n  [nzDisabled]=\"props.nzDisabled || props.disabled || formControl?.disabled\"\r\n  [nzDropdownClassName]=\"props.nzDropdownClassName\"\r\n  [nzDropdownMatchSelectWidth]=\"props.nzDropdownMatchSelectWidth\"\r\n  [nzDropdownStyle]=\"props.nzDropdownStyle\"\r\n  [nzServerSearch]=\"props.nzServerSearch\"\r\n  [nzFilterOption]=\"props.nzFilterOption\"\r\n  [nzMaxMultipleCount]=\"props.nzMaxMultipleCount\"\r\n  [nzMode]=\"props.nzMode\"\r\n  [nzNotFoundContent]=\"nzNotFoundContent\"\r\n  [nzSize]=\"props.nzSize\"\r\n  [nzAutoClearSearchValue]=\"props.nzAutoClearSearchValue\"\r\n  [nzBackdrop]=\"props.nzBackdrop\"\r\n  [nzBorderless]=\"props.nzBorderless\"\r\n  [nzShowArrow]=\"props.nzShowArrow\"\r\n  [nzCustomTemplate]=\"nzCustomTemplate\"\r\n  [nzSuffixIcon]=\"nzSuffixIcon\"\r\n  [nzRemoveIcon]=\"nzRemoveIcon\"\r\n  [nzClearIcon]=\"nzClearIcon\"\r\n  [nzMenuItemSelectedIcon]=\"nzMenuItemSelectedIcon\"\r\n  [nzTokenSeparators]=\"props.nzTokenSeparators\"\r\n  [nzLoading]=\"props.nzLoading\"\r\n  [nzMaxTagCount]=\"props.nzMaxTagCount\"\r\n  [nzMaxTagPlaceholder]=\"nzMaxTagPlaceholder\"\r\n  [nzOptionHeightPx]=\"props.nzOptionHeightPx\"\r\n  [nzOptionOverflowSize]=\"props.nzOptionOverflowSize\"\r\n  (nzOpenChange)=\"props.nzOpenChange?.($event, field, instance)\"\r\n  (nzScrollToBottom)=\"props.nzScrollToBottom?.($event, field, instance)\"\r\n  (nzOnSearch)=\"props.nzOnSearch?.($event, field, instance)\"\r\n  (nzFocus)=\"props.nzFocus?.($event, field, instance)\"\r\n  (nzBlur)=\"props.nzBlur?.($event, field, instance)\"\r\n  ngDefaultControl\r\n>\r\n  <ng-container *ngFor=\"let item of props.options | toAsync: $any(props) | async | defaultify: []\">\r\n    <ng-container *ngIf=\"item.hide !== false\">\r\n      <nz-option-group *ngIf=\"item.group; else simpleTemplate\" [nzLabel]=\"item.label\">\r\n        <ng-container *ngFor=\"let child of item.group\">\r\n          <nz-option\r\n            *ngIf=\"child.hide !== false\"\r\n            [nzValue]=\"child.value\"\r\n            [nzDisabled]=\"child.disabled\"\r\n            [nzLabel]=\"child.label\"\r\n            [nzCustomContent]=\"child.nzCustomContent\"\r\n          >\r\n            <ng-container *nzStringTemplateOutlet=\"labelTemplate; context: { $implicit: item, field: field }\">\r\n              <span>{{ labelTemplate }}</span>\r\n            </ng-container>\r\n          </nz-option>\r\n        </ng-container>\r\n      </nz-option-group>\r\n\r\n      <ng-template #simpleTemplate>\r\n        <nz-option\r\n          [nzValue]=\"item.value\"\r\n          [nzDisabled]=\"item.disabled\"\r\n          [nzLabel]=\"item.label\"\r\n          [nzHide]=\"item.hide\"\r\n          [nzCustomContent]=\"item.nzCustomContent\"\r\n        >\r\n          <ng-container *nzStringTemplateOutlet=\"labelTemplate; context: { $implicit: item, field: field }\">\r\n            <span>{{ labelTemplate }}</span>\r\n          </ng-container>\r\n        </nz-option>\r\n      </ng-template>\r\n    </ng-container>\r\n  </ng-container>\r\n</nz-select>\r\n","import { NgModule } from '@angular/core';\r\nimport { FormlyModule } from '@ngx-formly/core';\r\nimport { FormlyFieldSelectComponent } from './select.component';\r\nimport { NzSelectModule } from 'ng-zorro-antd/select';\r\nimport { NzxPipeModule } from '@freezesoul/nzx-antd/pipe';\r\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\nconst COMPONENT = FormlyFieldSelectComponent;\r\n\r\n@NgModule({\r\n  declarations: [COMPONENT],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    NzSelectModule,\r\n    NzxPipeModule,\r\n    NzOutletModule,\r\n    FormlyModule.forChild({\r\n      types: [\r\n        {\r\n          name: 'select',\r\n          component: COMPONENT,\r\n          wrappers: ['field-wrapper']\r\n        }\r\n      ]\r\n    })\r\n  ]\r\n})\r\nexport class FormlyNzSelectModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i1"],"mappings":"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"}