{"version":3,"file":"freezesoul-nz-formly-ref-template.mjs","sources":["../../../lib/ref-template/ref-template.component.ts","../../../lib/ref-template/ref-template.module.ts","../../../lib/ref-template/freezesoul-nz-formly-ref-template.ts"],"sourcesContent":["import { ChangeDetectionStrategy, Component, Optional } from '@angular/core';\r\nimport { FieldType } from '@ngx-formly/core';\r\nimport { FormlyBoxTemplates, resolveTplName } from '@freezesoul/nz-formly/common';\r\n\r\n/**\r\n * 引用模板，支持HTML,TemplateRef对象,或者NamedTemplate\r\n * @example\r\n *\r\n * 用法1: 使用NamedTemplate(推荐)\r\n *\r\n * html\r\n * ```html\r\n * <formly-form formly-box >\r\n *  <ng-template named=\"test\"></ng-template>\r\n * </formly-form>\r\n * ```\r\n *\r\n * 配置\r\n * ```js\r\n * {\r\n *   type: 'ref-template',\r\n *   props: {\r\n *     refName: 'test'\r\n *   }\r\n * }\r\n * ```\r\n *\r\n * 用法2:TemplateRef对象\r\n * ```html\r\n * <ng-template #test2></ng-template>\r\n * ```\r\n *\r\n * 配置\r\n * @viewChild('test2') test2: TemplateRef<{}>;\r\n *\r\n * ```js\r\n * {\r\n *   type: 'ref-template',\r\n *   props: {\r\n *     ref: this.test2\r\n *   }\r\n * }\r\n * ```\r\n *\r\n * 用法3: 使用html\r\n *\r\n * 配置\r\n * ```js\r\n * {\r\n *   type: 'ref-template',\r\n *   props: {\r\n *     ref: '<div>test text</div>'\r\n *   }\r\n * }\r\n * ```\r\n */\r\n@Component({\r\n  selector: 'nz-formly-ref-template',\r\n  template: `\r\n    <ng-container *nzStringTemplateOutlet=\"ref; context: { $implicit: field, props: props }\">\r\n      <div [innerHTML]=\"$any(ref) | trustHtml\"></div>\r\n    </ng-container>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FormlyFieldRefTemplateComponent extends FieldType {\r\n  constructor(@Optional() public fieldTemplates: FormlyBoxTemplates) {\r\n    super();\r\n  }\r\n\r\n  get ref() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'ref');\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormlyFieldRefTemplateComponent } from './ref-template.component';\r\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\r\nimport { FormlyModule } from '@ngx-formly/core';\r\nimport { NzxPipeModule } from '@freezesoul/nzx-antd/pipe';\r\n\r\nconst COMPONENT = FormlyFieldRefTemplateComponent;\r\n\r\n@NgModule({\r\n  declarations: [COMPONENT],\r\n  imports: [\r\n    CommonModule,\r\n    NzOutletModule,\r\n    FormlyModule.forChild({\r\n      types: [\r\n        {\r\n          name: 'ref-template',\r\n          component: COMPONENT\r\n        }\r\n      ]\r\n    }),\r\n    NzxPipeModule\r\n  ]\r\n})\r\nexport class FormlyRefTemplateModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}