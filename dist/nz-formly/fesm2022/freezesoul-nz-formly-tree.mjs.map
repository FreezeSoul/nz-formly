{"version":3,"file":"freezesoul-nz-formly-tree.mjs","sources":["../../../lib/tree/tree.component.ts","../../../lib/tree/tree.module.ts","../../../lib/tree/freezesoul-nz-formly-tree.ts"],"sourcesContent":["import { ChangeDetectionStrategy, Component, Optional } from '@angular/core';\r\nimport { FieldType } from '@ngx-formly/core';\r\nimport { FormlyBoxTemplates, NzFormlyFieldConfig, resolveTplName } from '@freezesoul/nz-formly/common';\r\nimport { TreeOptions } from './formly.type'\r\n\r\n@Component({\r\n  selector: 'nz-formly-tree',\r\n  template: `\r\n    <nz-tree\r\n      #instance\r\n      [formlyAttributes]=\"field\"\r\n      [nzData]=\"props.nzData | toAsync: $any(props) | async\"\r\n      [nzBlockNode]=\"props.nzBlockNode\"\r\n      [nzCheckable]=\"props.nzCheckable\"\r\n      [nzShowExpand]=\"props.nzShowExpand\"\r\n      [nzShowIcon]=\"props.nzShowIcon\"\r\n      [nzAsyncData]=\"props.nzAsyncData\"\r\n      [nzBeforeDrop]=\"props.nzBeforeDrop\"\r\n      [nzCheckedKeys]=\"props.nzCheckedKeys\"\r\n      [nzCheckStrictly]=\"props.nzCheckStrictly\"\r\n      [nzDraggable]=\"props.nzDraggable\"\r\n      [nzExpandAll]=\"props.nzExpandAll\"\r\n      [nzExpandedIcon]=\"nzExpandedIcon\"\r\n      [nzExpandedKeys]=\"props.nzExpandedKeys\"\r\n      [nzHideUnMatched]=\"props.nzHideUnMatched\"\r\n      [nzMultiple]=\"props.nzMultiple\"\r\n      [nzSearchFunc]=\"props.nzSearchFunc\"\r\n      [nzSearchValue]=\"props.nzSearchValue\"\r\n      [nzSelectedKeys]=\"props.nzSelectedKeys\"\r\n      [nzSelectMode]=\"props.nzSelectMode\"\r\n      [nzShowLine]=\"props.nzShowLine\"\r\n      [nzVirtualHeight]=\"props.nzVirtualHeight\"\r\n      [nzVirtualItemSize]=\"props.nzVirtualItemSize\"\r\n      [nzVirtualMaxBufferPx]=\"props.nzVirtualMaxBufferPx\"\r\n      [nzVirtualMinBufferPx]=\"props.nzVirtualMinBufferPx\"\r\n      [nzTreeTemplate]=\"nzTreeTemplate\"\r\n      (nzClick)=\"props.nzClick?.($event, field, instance)\"\r\n      (nzDblClick)=\"props.nzDblClick?.($event, field, instance)\"\r\n      (nzContextMenu)=\"props.nzContextMenu?.($event, field, instance)\"\r\n      (nzCheckBoxChange)=\"props.nzCheckBoxChange?.($event, field, instance)\"\r\n      (nzExpandChange)=\"props.nzExpandChange?.($event, field, instance)\"\r\n      (nzSearchValueChange)=\"props.nzSearchValueChange?.($event, field, instance)\"\r\n      (nzOnDragStart)=\"props.nzOnDragStart?.($event, field, instance)\"\r\n      (nzOnDragEnter)=\"props.nzOnDragEnter?.($event, field, instance)\"\r\n      (nzOnDragOver)=\"props.nzOnDragOver?.($event, field, instance)\"\r\n      (nzOnDragLeave)=\"props.nzOnDragLeave?.($event, field, instance)\"\r\n      (nzOnDrop)=\"props.nzOnDrop?.($event, field, instance)\"\r\n      (nzOnDragEnd)=\"props.nzOnDragEnd?.($event, field, instance)\"\r\n    ></nz-tree>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FormlyFieldTreeComponent extends FieldType<NzFormlyFieldConfig<TreeOptions>> {\r\n  override defaultOptions = {\r\n    props: {\r\n      nzShowExpand: true,\r\n      nzData: [],\r\n      nzSelectedKeys: [],\r\n      nzCheckedKeys: [],\r\n      nzExpandedKeys: [],\r\n      nzVirtualItemSize: 28,\r\n      nzVirtualMaxBufferPx: 500,\r\n      nzVirtualMinBufferPx: 28\r\n    }\r\n  };\r\n\r\n  constructor(@Optional() public fieldTemplates: FormlyBoxTemplates) {\r\n    super();\r\n  }\r\n\r\n  get nzTreeTemplate() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'nzTreeTemplate');\r\n  }\r\n  get nzExpandedIcon() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'nzExpandedIcon');\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormlyFieldTreeComponent } from './tree.component';\r\nimport { NzTreeModule } from 'ng-zorro-antd/tree';\r\nimport { NzxPipeModule } from '@freezesoul/nzx-antd/pipe';\r\nimport { FormlyModule } from '@ngx-formly/core';\r\n\r\nconst COMPONENT = FormlyFieldTreeComponent;\r\n\r\n@NgModule({\r\n  declarations: [COMPONENT],\r\n  imports: [\r\n    CommonModule,\r\n    NzTreeModule,\r\n    NzxPipeModule,\r\n    FormlyModule.forChild({\r\n      types: [\r\n        {\r\n          name: 'tree',\r\n          component: COMPONENT,\r\n          wrappers: ['field-wrapper']\r\n        }\r\n      ]\r\n    })\r\n  ]\r\n})\r\nexport class FormlyNzTreeModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i1"],"mappings":"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"}