{"version":3,"file":"freezesoul-nz-formly-extension.mjs","sources":["../../../lib/extension/default-label-extension.ts","../../../lib/extension/value-changes-extension.ts","../../../lib/extension/freezesoul-nz-formly-extension.ts"],"sourcesContent":["import { FormlyExtension } from '@ngx-formly/core';\r\n\r\n/**\r\n * 添加默认placeholder\r\n */\r\nexport const defaultPlaceholderExtension: FormlyExtension = {\r\n  prePopulate(field): void {\r\n    if (!field.props?.label || field.props?.placeholder !== undefined || field.props?.nzPlaceholder !== undefined) {\r\n      return;\r\n    }\r\n    const selectable = ['select', 'tree-select', 'cascader', 'date-picker', 'time-picker'];\r\n    field.props = {\r\n      ...field.props,\r\n      placeholder:\r\n        selectable.indexOf(field.type as string) >= 0 ? `请选择${field.props?.label}` : `请输入${field.props?.label}`\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * 默认placeholder 配置\r\n */\r\nexport const defaultPlaceholderExtensionOption = {\r\n  name: 'default-label',\r\n  extension: defaultPlaceholderExtension\r\n};\r\n","import { FormlyExtension } from '@ngx-formly/core';\r\n\r\n/**\r\n * 自动添加valueChanges函数\r\n * @example\r\n * fields = [\r\n * {\r\n *  type: 'input',\r\n *  props: {\r\n *    valueChanges: (value, field) => {}\r\n *  }\r\n * }\r\n * ]\r\n */\r\nexport const valueChangesExtension: FormlyExtension = {\r\n  postPopulate(field): void {\r\n    if (!field.formControl || !field.props?.valueChanges || field.props.valueChanges.observed) {\r\n      return;\r\n    }\r\n\r\n    field.props.valueChanges.observed = true;\r\n    field.formControl.valueChanges.subscribe(value => field.props!.valueChanges(value, field));\r\n  }\r\n};\r\n\r\n/**\r\n * valueChanges函数配置\r\n */\r\nexport const valueChangesExtensionOption = {\r\n  name: 'value-changes',\r\n  extension: valueChangesExtension\r\n};\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"AAEA;;AAEG;AACU,MAAA,2BAA2B,GAAoB;AAC1D,IAAA,WAAW,CAAC,KAAK,EAAA;QACf,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,IAAI,KAAK,CAAC,KAAK,EAAE,WAAW,KAAK,SAAS,IAAI,KAAK,CAAC,KAAK,EAAE,aAAa,KAAK,SAAS,EAAE;YAC7G,OAAO;AACR,SAAA;AACD,QAAA,MAAM,UAAU,GAAG,CAAC,QAAQ,EAAE,aAAa,EAAE,UAAU,EAAE,aAAa,EAAE,aAAa,CAAC,CAAC;QACvF,KAAK,CAAC,KAAK,GAAG;YACZ,GAAG,KAAK,CAAC,KAAK;AACd,YAAA,WAAW,EACT,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,IAAc,CAAC,IAAI,CAAC,GAAG,CAAA,GAAA,EAAM,KAAK,CAAC,KAAK,EAAE,KAAK,CAAA,CAAE,GAAG,CAAA,GAAA,EAAM,KAAK,CAAC,KAAK,EAAE,KAAK,CAAE,CAAA;SAC1G,CAAC;KACH;EACD;AAEF;;AAEG;AACU,MAAA,iCAAiC,GAAG;AAC/C,IAAA,IAAI,EAAE,eAAe;AACrB,IAAA,SAAS,EAAE,2BAA2B;;;ACtBxC;;;;;;;;;;;AAWG;AACU,MAAA,qBAAqB,GAAoB;AACpD,IAAA,YAAY,CAAC,KAAK,EAAA;AAChB,QAAA,IAAI,CAAC,KAAK,CAAC,WAAW,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,YAAY,IAAI,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,QAAQ,EAAE;YACzF,OAAO;AACR,SAAA;QAED,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC;QACzC,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC,KAAK,IAAI,KAAK,CAAC,KAAM,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;KAC5F;EACD;AAEF;;AAEG;AACU,MAAA,2BAA2B,GAAG;AACzC,IAAA,IAAI,EAAE,eAAe;AACrB,IAAA,SAAS,EAAE,qBAAqB;;;AC9BlC;;AAEG;;;;"}