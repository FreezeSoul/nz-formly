{"version":3,"file":"freezesoul-nz-formly-dropdown.mjs","sources":["../../../lib/dropdown/dropdown.component.ts","../../../lib/dropdown/dropdown.module.ts","../../../lib/dropdown/freezesoul-nz-formly-dropdown.ts"],"sourcesContent":["import { ChangeDetectionStrategy, Component, OnInit, Optional, ViewChild } from '@angular/core';\r\nimport { FieldType } from '@ngx-formly/core';\r\nimport { NzDropdownMenuComponent } from 'ng-zorro-antd/dropdown';\r\nimport { ReplaySubject } from 'rxjs';\r\nimport { FormlyBoxTemplates } from '@freezesoul/nz-formly/common';\r\n\r\n@Component({\r\n  selector: 'nz-formly-dropdown',\r\n  template: `\r\n    <nz-dropdown-menu #menu=\"nzDropdownMenu\">\r\n      <div nz-menu [formlyAttributes]=\"field\">\r\n        <ng-container *ngFor=\"let item of field.fieldGroup\">\r\n          <formly-field\r\n            nz-menu-item\r\n            [formlyAttributes]=\"item\"\r\n            [field]=\"item\"\r\n            [nzSelected]=\"item.props?.nzSelected\"\r\n            [nzDisabled]=\"item.props?.nzDisabled\"\r\n            [nzPaddingLeft]=\"item.props?.nzPaddingLeft\"\r\n          ></formly-field>\r\n        </ng-container>\r\n      </div>\r\n    </nz-dropdown-menu>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FormlyFieldDropdownComponent extends FieldType implements OnInit {\r\n  override defaultOptions = {\r\n    props: { _subject: new ReplaySubject<NzDropdownMenuComponent>() }\r\n  };\r\n\r\n  @ViewChild('menu', { read: NzDropdownMenuComponent, static: true }) instance!: NzDropdownMenuComponent;\r\n  constructor(@Optional() public fieldTemplates: FormlyBoxTemplates) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.props._subject) {\r\n      this.props._subject.next(this.instance);\r\n    }\r\n    this.props.instance = this.instance;\r\n    this.props.init?.(this.instance, this);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormlyFieldDropdownComponent } from './dropdown.component';\r\nimport { NzMenuModule } from 'ng-zorro-antd/menu';\r\nimport { FormlyModule } from '@ngx-formly/core';\r\nimport { NzDropDownModule } from 'ng-zorro-antd/dropdown';\r\n\r\nconst COMPONENT = FormlyFieldDropdownComponent;\r\n\r\n@NgModule({\r\n  declarations: [FormlyFieldDropdownComponent],\r\n  imports: [\r\n    CommonModule,\r\n    NzMenuModule,\r\n    NzDropDownModule,\r\n    FormlyModule.forChild({\r\n      types: [\r\n        {\r\n          name: 'dropdown',\r\n          component: COMPONENT\r\n        }\r\n      ]\r\n    })\r\n  ]\r\n})\r\nexport class FormlyNzDropdownModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i1"],"mappings":"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"}