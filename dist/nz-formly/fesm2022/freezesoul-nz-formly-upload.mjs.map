{"version":3,"file":"freezesoul-nz-formly-upload.mjs","sources":["../../../lib/upload/upload.component.ts","../../../lib/upload/upload.module.ts","../../../lib/upload/freezesoul-nz-formly-upload.ts"],"sourcesContent":["import { Component, Optional } from '@angular/core';\r\nimport { FieldType } from '@ngx-formly/core';\r\nimport { FormlyBoxTemplates, NzFormlyFieldConfig, resolveTplName } from '@freezesoul/nz-formly/common';\r\nimport { UploadOptions } from './formly.type';\r\n\r\n@Component({\r\n  selector: 'nz-formly-upload',\r\n  template: `\r\n    <nzx-upload\r\n      #instance\r\n      [formControl]=\"$any(formControl)\"\r\n      [formlyAttributes]=\"field\"\r\n      [nzType]=\"props.nzType\"\r\n      [nzAccept]=\"props.nzAccept\"\r\n      [nzAction]=\"props.nzAction\"\r\n      [nzDirectory]=\"props.nzDirectory\"\r\n      [nzOpenFileDialogOnClick]=\"props.nzOpenFileDialogOnClick\"\r\n      [nzBeforeUpload]=\"props.nzBeforeUpload\"\r\n      [nzCustomRequest]=\"props.nzCustomRequest\"\r\n      [nzData]=\"props.nzData\"\r\n      [nzFilter]=\"props.nzFilter\"\r\n      [nzDisabled]=\"props.nzDisabled || props.disabled || formControl?.disabled\"\r\n      [nzHeaders]=\"props.nzHeaders\"\r\n      [nzListType]=\"props.nzListType\"\r\n      [nzMultiple]=\"props.nzMultiple\"\r\n      [nzName]=\"props.nzName\"\r\n      [nzShowUploadList]=\"props.nzShowUploadList\"\r\n      [nzShowButton]=\"props.nzShowButton\"\r\n      [nzWithCredentials]=\"props.nzWithCredentials\"\r\n      [nzRemove]=\"props.nzRemove\"\r\n      [nzPreview]=\"props.nzPreview\"\r\n      [nzPreviewFile]=\"props.nzPreviewFile\"\r\n      [nzPreviewIsImage]=\"props.nzPreviewIsImage\"\r\n      [nzTransformFile]=\"props.nzTransformFile\"\r\n      [nzDownload]=\"props.nzDownload\"\r\n      [nzIconRender]=\"nzIconRender\"\r\n      [nzFileListRender]=\"nzFileListRender\"\r\n      [nzSize]=\"props.nzSize\"\r\n      [nzLimit]=\"props.nzLimit\"\r\n      [nzxShowUploadButtonIcon]=\"props.nzxShowUploadButtonIcon\"\r\n      [nzxHint]=\"props.nzxHint\"\r\n      [nzxUploadButton]=\"uploadButton\"\r\n      [nzxUploadButtonIcon]=\"props.nzxUploadButtonIcon\"\r\n      [nzxFileNameDuplicate]=\"props.nzxFileNameDuplicate\"\r\n      [nzxValidateMessage]=\"props.nzxValidateMessage\"\r\n      [nzxFileNameLength]=\"props.nzxFileNameLength\"\r\n      [nzxShowValidateMessage]=\"props.nzxShowValidateMessage\"\r\n      [nzTotalSize]=\"props.nzTotalSize\"\r\n      [nzFileType]=\"props.nzFileType\"\r\n      (nzChange)=\"props.nzChange?.($event, field, instance)\"\r\n      (nzFileListChange)=\"props.nzFileListChange?.($event, field, instance)\"\r\n    ></nzx-upload>\r\n  `\r\n})\r\nexport class FormlyFieldUploadComponent extends FieldType<NzFormlyFieldConfig<UploadOptions>> {\r\n  override defaultOptions = {\r\n    props: {\r\n      nzType: 'select',\r\n      nzOpenFileDialogOnClick: true,\r\n      nzFilter: [],\r\n      nzListType: 'text',\r\n      nzName: 'file',\r\n      nzShowUploadList: true,\r\n      nzShowButton: true,\r\n      nzxUploadButtonIcon: 'cloud-upload'\r\n    } as UploadOptions\r\n  };\r\n\r\n  constructor(@Optional() public fieldTemplates: FormlyBoxTemplates) {\r\n    super();\r\n  }\r\n\r\n  get uploadButton() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'uploadButton');\r\n  }\r\n\r\n  get nzIconRender() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'nzIconRender');\r\n  }\r\n  get nzFileListRender() {\r\n    return resolveTplName(this.props, this.fieldTemplates, 'nzFileListRender');\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { FormlyFieldUploadComponent } from './upload.component';\r\nimport { FormlyModule } from '@ngx-formly/core';\r\nimport { NzxUploadModule } from '@freezesoul/nzx-antd/upload';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\nconst COMPONENT = FormlyFieldUploadComponent;\r\n\r\n@NgModule({\r\n  declarations: [COMPONENT],\r\n  imports: [\r\n    CommonModule,\r\n    NzxUploadModule,\r\n    FormlyModule.forChild({\r\n      types: [\r\n        {\r\n          name: 'upload',\r\n          component: COMPONENT,\r\n          wrappers: ['field-wrapper']\r\n        }\r\n      ]\r\n    }),\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class FormlyNzUploadModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}